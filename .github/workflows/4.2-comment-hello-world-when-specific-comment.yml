on:
  issue_comment: 
    types:
      - created # blah3

jobs:
  serializing-data:
    if: ${{ github.event.issue.pull_request != null && github.event.comment.body == '/trigger-hello-world-comment' }}
    runs-on: ubuntu-latest
    
    permissions:
      issues: write

    steps:
    - name: trigger-hello-world-comment
      run: |
        PR_NUMBER=${{ github.event.issue.number }}
        API_URL="https://api.github.com/repos/${{ github.repository }}/issues/${{ github.event.issue.number }}/comments"
        echo "API_URL=${API_URL}"
        echo "PR_NUMBER=${PR_NUMBER}"
        curl -L \
          -X POST \
          -H "Authorization: bearer ${{ secrets.GITHUB_TOKEN }}" \
          -H "Content-Type: application/json" \
          -d '{"body": "hello world"}' \
          "${{ API_URL }}"